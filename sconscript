import os

Import('env')

# copy parent environment so our alterations don't affect it
env = env.Clone()

# add source directories (at all levels) to the include path
# and add their contents are build targets
env.Append(CPPPATH='include')
srcs = Glob(os.path.join(os.getcwd(), 'src/**/*.cc'))
# debug output
print('src env CPPPATH:')
print(env['CPPPATH'])

# build a shared library
env.SharedLibrary('build/lib/rdc', srcs)
